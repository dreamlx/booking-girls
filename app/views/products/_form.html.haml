=nested_form_for @product, :html=>{:multipart => true }  do |f|
  - if @product.errors.any?
    #error_explanation
      %h2
        = pluralize(@product.errors.count, "error")
        prohibited this product from being saved:
      %ul
        - @product.errors.full_messages.each do |msg|
          %li= msg
  .field
    .item-label= f.label :name
    .item-column= f.text_field :name
  .field
    .item-label= f.label :designer
    .item-column= f.text_field :designer
  .field
    .item-label= f.label :price
    .item-column= f.text_field :price
  .field
    .item-label
      = f.label :model3d
    -unless @product.model3d.nil? || @product.new_record?
      %span.label= @product.model3d.url.split('/').last
    -else 
      .item-column= f.file_field :model3d
  .field
    .item-label= f.label :pics
    //= image_tag @product.photo.thumb.url unless @product.photo.nil?
    //.item-column= f.file_field :photo
    = render :partial => "pic_form", :locals => {:f => f}  
  .actions
    = f.submit