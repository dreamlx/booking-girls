- if current_user and @product.owner?(current_user)      
  = link_to 'Edit', edit_product_path(@product) 
  |
  = link_to 'Destroy', @product, method: :delete, data: { confirm: 'Are you sure?' }
.container-fluid
  .shop-info-text
    
    %h1
      = h_product_nav()
      Â» 
      = @product.name
    %span.label.label-important
      = t(:price, price: @product.price, scope: :views)
    %span.label.label-info
      = t(:designer, designer_name: @product.designer, scope: :views)
    %span.label.label-info
      = t(:favor, favor: @product.favor_count, scope: :views)
    %span.label.label-info
      = t(:comment, comment: @product.comments.count, scope: :views)
      
  .row-fluid
    .span9
      .thumbnail
        %a{:href => @product.photo.url, :targe => "_blank"}
          = image_tag @product.photo.normal.url

      %p= @product.desc
      %p= @product.size unless @product.size.blank?
      %hr
        - @product.pics.each do |pic|
          %a{:href => pic.photo.url, :targe => "_blank"}
            .right.small-img= image_tag pic.photo.thumbnail.url
  

      %h1.comments
        = t(:comments, scope: :views)
      .comments-container
        %p
          = render "/comments/leave_comment"
        %hr
        - unless @product.comments.empty?
          = render partial: "/comments/comment", collection: @product.comments
    .span3        
      %p{:id => "favor"}
        -if current_user
          -unless @product.check_favor(current_user) 
            = button_to t(:add_favor, scope: :views), add_favor_product_path, |
            :method => :put, :class => "btn btn-warning"
          -else
            = button_to t(:remove_favor, scope: :views), cancel_favor_product_path, |
            :method => :put, :class => "btn btn-danger"
      %p 
        %a.btn{:href => @product.model3d.url }
          = t(:download_model, scope: :views)
  


